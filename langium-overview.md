---
تیتر: "بررسی Langium"
وزن: 0
---
 
# بررسی اجمالی [Langium Overview]

طراحی زبان های برنامه نویسی از پایه سخت است، فارغ از اینکه زبان شما یک زبان خاص دامنه "ساده" باشد یا یک زبان برنامه نویسی همه منظوره کامل باشد.
نه تنها باید با الزامات متخصصان دامنه خود هماهنگ باشید، بلکه باید با تمام پیچیدگی های فنی ایجاد شده در ساخت یک زبان دست و پنچه نرم کنید، از جمله سوالاتی مانند:
 
- چگونه از یک رشته به یک مدل معنایی برسم که بتوانم با آن کار کنم؟
- چگونه می توانم ارجاعات به قسمت های دیگر مدل خود را حل کنم، حتی اگر آنها در یک فایل جداگانه قرار داشته باشند؟
- چگونه می توانم یک تجربه ویرایش عالی را به کاربران زبان خود ارائه دهم؟
  
این نقطه ای است که Langium وارد بازی می شود.
در واقع Langium قصد دارد با حذف پیچیدگی فنی، مانع ورود برای ایجاد یک زبان را کاهش دهد و به شما امکان می دهد بر روی الزامات دامنه خود تمرکز کنید.

در این فصل، شما به الزاماتی که معمولاً توسعه‌دهندگان هنگام ساخت یک زبان برنامه‌نویسی باید توسط خودشان پیاده‌سازی کنند، نگاه دقیق‌تری خواهید داشت:

- [تجزیه زبان](#language-parsing)
- [مدل های معنایی](#semantic-models)
- [ارجاعات متقابل و پیوند دادن](#cross-references-and-linking)
- [مدیریت فضای کاری](#workspace-management)
- [پشتیبانی از ویرایش](#editing-support)

همچنین Langium راه‌حل‌هایی با قابلیت تنظیم دقیق هر قسمت از آن مطابق با نیازهای دامنه شما را برای این مشکلات ارائه می‌کند.

---

## تجزیه زبان 
 
زبان های برنامه نویسی و زبان های خاص دامنه (DSL) را نمی توان با استفاده از عبارات منظم ساده (RegExp) تجزیه کرد.
در عوض، آنها به یک استراتژی تجزیه پیچیده‌تر نیاز دارند.
برای تعریف یک زبان سفارشی در Langium، با استفاده از [گرامر زبان Langium](/docs/grammar-language) با یک نمایش سطح بالایی از گرامر بدون زمینه خود به شکلی مشابه EBNF تعامل دارید.
 
بر اساس گرامر، Langium سپس قادر به ساخت تجزیه کننده ای است که یک رشته ورودی را به یک نمایش مدل معنایی تبدیل می کند.
همانطور که از نام آن پیداست، این مدل ساختار اساسی برای توصیف زبان شما را به تصویر می‌کشد.

## مدل های معنایی 

گرامرهای Langium نه تنها برای تجزیه زبان شما استفاده می شود، بلکه برای ایجاد یک مدل معنایی برای زبان شما به عنوان واسط TypeScript نیز استفاده می شود.
هنگامی که یک برنامه به زبان شما تجزیه می شود، AST تولید شده به طور خودکار با استفاده از این رابط ها تولید می شود.
قطعه زبان زیر یک شی ساده `{ name: 'John' }` را تجزیه می‌کند.

```antlr
Person:
    'person' // keyword 
    name=ID // semantic assignment
;
```
 
برای تعامل با مدل معنایی به شیوه ای از نوع امن، ابزار `langium-cli` تعاریف نوع TypeScript را از قوانین تجزیه کننده شما ایجاد می کند.
قانون تجزیه کننده `Person` اینترفیس زیر را ایجاد می کند:

```ts
interface Person {
    name: String
}
```

این رابط ها به شما امکان می دهند با خیال راحت از درخت نحو انتزاعی خود عبور کنید.
در صورتی که دستور زبان شما تغییر کند، آن ها همچنین هرگونه تغییر شکسته ای که ممکن است نیاز به تغییر منطق دامنه خود داشته باشد به شما اطلاع می دهند.

## ارجاعات متقابل و پیوند 

برای بیان هر نوع رابطه بین عناصر در زبان خود، باید به آنها **ارجاع** دهید.
فرآیند حل این ارجاعات، یعنی تشخیص اینکه چه عنصری از زبان شما در پشت یک نام خاص پنهان شده است، _linking_ نامیده می شود.
انجام فرآیند پیوند به روشی قطعی با بسیاری از اشیاء در پروژه شما نیاز به طراحی پیوند صوتی دارد.
 
در واقع Langium این شاهکار را با استفاده از مفهوم 'scoping' انجام می دهد.
شما احتمالاً scope ها را از برنامه نویسی می شناسید، جایی که برخی از متغیرها فقط از محدوده های خاصی در دسترس هستند:

```ts
let x = 42;
x = 3; // References the `x` defined in the previous line

if (something) {
    let y = 42;
}
y = 3; // Cannot link, `y` isn't in any of the available scopes
```
 
در Langium هم همین اتفاق می افتد. برای فعال کردن رفتار محدوده‌بندی پیچیده‌تر، می‌توانید محدوده scope سفارشی را اضافه کنید.
به عنوان مثال، زبان‌های شی گرا معمولی برای حل ارجاعات به فیلدها و متدهای یک کلاس، به مکانیزم محدوده‌بندی درگیرتری نیاز دارند:

```ts
class X {
    y(): void { ... }
}

const instance = new X(); // Symbol `X` is in the local scope
instance.y(); // Symbol `y` exists in the scope of the `X` class
```

هنگامی که قوانین محدوده خاص دامنه شما تعریف شد، Langium به تنهایی از پیوند دادن مراقبت می کند و هر گونه خطا را گزارش می دهد.

## مدیریت فضای کاری 
 
مانند زبان های برنامه نویسی معمولی ماژولار، منطق دامنه نوشته شده در DSL شما معمولاً در چندین فایل تقسیم می شود تا استفاده و نگهداری آسان باشد.
این کار همچنین با استفاده از Langium امکان پذیر است، که به طور خودکار سعی می کند فایل های متعلق به پروژه فعلی شما را انتخاب کند.
 
هنگام اجرای یک زبان مبتنی بر Langium در یک [سرور زبان](https://microsoft.github.io/language-server-protocol/)، تمام فایل‌های موجود در فضای کاری شما (پوشه حاوی پروژه فعلی شما) متعلق به DSL شما به طور خودکار برداشت و پردازش شود.
علاوه بر این، هرگونه تغییر در فضای کاری شما نیز رسیدگی خواهد شد.
پرداختن به فایل‌های اضافه، تغییر یا حذف شده در فضای کاری با صدها فایل می‌تواند پیچیده شود و اگر به درستی انجام نشود، عملکرد را به شدت کاهش می‌دهد.
پس Langium از اکتشافی استفاده می کند تا فقط آنچه را که واقعاً ضروری است باطل کند و دوباره محاسبه کند.
 
مدیریت فضای کاری نیز global scope را پیگیری می کند. این به کاربران DSL شما اجازه می‌دهد تا به عناصر بین فایل‌ها در همان فضای کاری ارجاع دهند.

## پشتیبانی ویرایش 
 
چارچوب Langium عمیقاً با [پروتکل سرور زبان] (https://microsoft.github.io/language-server-protocol/) (LSP) یکپارچه شده است.
هدف LSP کاهش تلاش‌های یکپارچه‌سازی هنگام طراحی یک زبان با ارائه رابطی است که همه IDEها می‌توانند از آن برای ارائه پشتیبانی ویرایش استفاده کنند.
این به زبان های مبتنی بر Langium اجازه می دهد تا به راحتی با IDE ها و ویرایشگرهای رایج با پشتیبانی LSP، از جمله Visual Studio Code، Eclipse، IntelliJ و بسیاری دیگر تعامل داشته باشند.
 
همچنین ، LSP شامل ویژگی‌های زبانی که معمولاً مورد استفاده قرار می‌گیرد، مانند تکمیل کد، اعتبارسنجی/تشخیص سفارشی، یافتن مراجع، قالب‌بندی و بسیاری موارد دیگر است.
این امکان یکپارچه سازی عمیق IDE را بدون اتصال زبان شما به یک IDE فراهم می کند.
همچنین Langium برای بسیاری از این ویژگی‌های زبان، با امتیازهای افزودنی اضافی برای نیازهای خاص دامنه شما، پشتیبانی خارج از جعبه ارائه می‌کند.

## آن را امتحان کنید!
 
می‌توانید بیشتر این ویژگی‌ها را با استفاده از [showcase](/showcase/) و [playground](/playground/) ما امتحان کنید.
زبان های نشان داده شده در آنجا با استفاده از Langium نوشته شده و در ویرایشگر monaco ادغام شده اند.
 
اگر به Langium علاقه مند هستید، می توانید صفحه [شروع] (/docs/getting-started) ما را در ادامه بررسی کنید.
در آنجا یاد خواهید گرفت که چگونه نوشتن زبان اول خود را شروع کنید و درباره اینکه چگونه Langium می تواند به شما در دستیابی به اهداف طراحی زبان کمک کند، بیشتر بیاموزید.